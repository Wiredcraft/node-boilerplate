var path = require('path');
var fs = require('fs');
var _ = require('underscore');

// .
require('./lib/carcass')(exports);

// Plugins.
exports.register(__dirname, 'plugins');

// Constructors.
exports.register(__dirname, 'constructors');

// .
_.each(exports.constructors, function(obj) {
    if (!obj.prototype) return;
    exports.mixable(obj);
    exports.mixable(obj.prototype);
    obj.mixin('plugins', 'extendable');
});

// Servers.
exports.register(__dirname, 'servers');
