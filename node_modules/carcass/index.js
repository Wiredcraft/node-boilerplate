var path = require('path');
var fs = require('fs');
var _ = require('underscore');

// TODO: rename it.
require('./lib/plugin')(exports);

// Plugins.
exports.register(__dirname, 'plugins');

// Constructors.
exports.register(__dirname, 'constructors');

// Constructors and instances can be extended.
_.each(exports.constructors || null, function(obj, name) {
    if (!obj || !obj.prototype) {
        return;
    }
    // .
    exports.mixable(obj);
    // .
    exports.mixable(obj.prototype);
    // .
    obj.mixin('plugins', 'extendable');
});

// Servers.
exports.register(__dirname, 'servers');
